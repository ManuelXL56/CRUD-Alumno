apiVersion: v1
kind: Secret
metadata:
  name: key-pair
  namespace: production
type: Opaque
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZEekNDQXZlZ0F3SUJBZ0lVTWpaUHU3OU9CdUd2d0gzbGNkOGpPR1pZbC9jd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0ZERVNNQkFHQTFVRUF3d0piRzlqWVd4b2IzTjBNQjRYRFRJek1ERXlPVEE1TlRreE9Gb1hEVFF6TURFeQpOREE1TlRreE9Gb3dGREVTTUJBR0ExVUVBd3dKYkc5allXeG9iM04wTUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGCkFBT0NBZzhBTUlJQ0NnS0NBZ0VBcTk0c2VOenNCaFh2NDNlWFhyMXpGcHNKMGtiYWFWNk9RdGlwU2NONktHL0YKS3EyL3FyeXVHK2hGNU5UMzJnUWVuZmx6Sm5PdHY5a011bXpZRjg5M1ViRUJWOTZPb3A1cWRxU1dvN2xMSURYYwpBQUwwaklNL0QzRU5HUVZHVDNvb0EwTTQ0ZnUycmgxb1d4NEpyRU40clVFQW91aUR6OTZ3Y0VkUklSMVJUQjBsCjVIVWt4MDJIeVR4U3MzV0p0empKZ2c3NGZhZUxFM2QrR29tY3R2cDk4SmxEZVV3Z1ZrejRsTE82dkZkOVIweXcKQzM2eUtMWDlaZ1Roa1Q3VkNORVVPODNwaDlwTEVhck9lb1N6VkpyVVo1Q0wzV2NoT3pNckhVdTRVZUNFYmpaTwpoODYrWTFGS2lGNVJGN01UTHB5OUFWY3RIWDJIYUgxQzVDeXUvemxMMXJIZ2loeHljWEl4VVlVQkE3UUYxVEtyCjlRV01uVVhiWDJ4YUp4U0lSTnQ4ZERjaUhqdFJVenFRem04aGxmZmZXdTBWeFYyUlE2SC9zT3lENXlLUU5lVFoKZ280NDZ1RGNHdDZGNGRqRkVqaHlMeGdJUGU5MzZ0US9pUkd4VkNFcUVvdGVXcUlWSVVqSlRKVjVXYmlDL290awpHeDk4ZTVjc201ZHBGa1MrQzVudlFaR1hIZWhjTDRoUkF1MllYdDJURFZ4MjVQN0xjdnNLdXBiV21zd0FyYmtLCnZsNnVBSUdUQnhjYzV0aW5IK005YzF4NEpTNU9ucDhjdXJwRVZwZjBlaGtTc0ZZanF4d2trVzFTVGZwbndZVjAKNkR5WGk0Yk02NUJ1cEJMdWdRMm1Ga0xrRW5xbGEzY2d4QzhBb1BHNnJ6aVlHWEpYLzVmR3lhN0VXWVF3Skc4QwpBd0VBQWFOWk1GY3dGQVlEVlIwUkJBMHdDNElKYkc5allXeG9iM04wTUFzR0ExVWREd1FFQXdJSGdEQVRCZ05WCkhTVUVEREFLQmdnckJnRUZCUWNEQVRBZEJnTlZIUTRFRmdRVTNjS3BvSXBlcENrbUsxNndsSEVyeFFOVG1yd3cKRFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUpCVkdIV1p3UHlXZTZrQ0h0dHlDU0V0bnpCT2RXOFNpWGVjbzhWQgp6SHoyM2NPMERNellKVnNTbUdKUjNyTHIwTzJ4UkZyR0RnR294NXNpWUIyWnlhQnhBam1RRGtua1M3d3V6dE80ClZ6ZW13bzNyR1dqVCtGNkpZZnVZWjJTMTdXVDduNjdQOUViMHB4SXpVcUJTN1Voc1BFa0xCaVN0RCtSazJ6SjcKMWdPMEMzMHowVVpBcHpKRXQveDJqYTdYNlF4YzJ1Ym5xWU5CR1c0N3ZSVk5WeU9lMnVMMTR6UXphSGduYU5OWAo0dDZZY1hqbW10WE5SZmtZVDlqSENnWm5XQnlyeXh1YVEzUXZaMGtpSkV3bDVXM0RZdzI1UFRrNHpzNXJVeUpoCnA4dGtKZzZmUGVVVmNTUXU0UXBEc0RNMW4zNm5RME90S1MrS053RStROFRTTm0va3NrMGRlYzBnVEFTUkt2RlEKVVIya1dHdzVMUmVyeFFIT3ZuZ3hvUXgvSzVuZHFxSmd1MUdxTFEzeStaS216SVkyc1VXeXo3c1Z3dUt3Vm05TwpQaHpUa3lqbndyYWkrWWNkYnJXaG1Kank3aVZBSkZKMXA5SHZMWUlwVHJIWVA3SVp0b3djWWNLNXRyaml1T1RICmtsUFB1Z1QwQnFHQXNDSERhQWE5TTBQNk5ZaHVKRVlpeEhnaG9XRFl1UnE3dVhEajFwY1ZzMnZjSkNlTm5PVHQKcUVJUndLZEtRSFZRVGlZL0dObTBvN1FzUS9GZ09INzRPL0ZSM1BrQlFxYXFyVyttWnFuUGtwQjNscVc5dzREYQpUcXV0TkFzZkZiY1lFNGxsVFk3UEVYci8yN0pBY1FhaHBzT0ZZQmwzdXNOclZYSitjWENOcU9XTU01SDZVejlsCmh4cGEKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRZ0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1N3d2dna29BZ0VBQW9JQ0FRQ3IzaXg0M093R0ZlL2oKZDVkZXZYTVdtd25TUnRwcFhvNUMyS2xKdzNvb2I4VXFyYitxdks0YjZFWGsxUGZhQkI2ZCtYTW1jNjIvMlF5NgpiTmdYejNkUnNRRlgzbzZpbm1wMnBKYWp1VXNnTmR3QUF2U01nejhQY1EwWkJVWlBlaWdEUXpqaCs3YXVIV2hiCkhnbXNRM2l0UVFDaTZJUFAzckJ3UjFFaEhWRk1IU1hrZFNUSFRZZkpQRkt6ZFltM09NbUNEdmg5cDRzVGQzNGEKaVp5MituM3dtVU41VENCV1RQaVVzN3E4VjMxSFRMQUxmcklvdGYxbUJPR1JQdFVJMFJRN3plbUgya3NScXM1NgpoTE5VbXRSbmtJdmRaeUU3TXlzZFM3aFI0SVJ1Tms2SHpyNWpVVXFJWGxFWHN4TXVuTDBCVnkwZGZZZG9mVUxrCkxLNy9PVXZXc2VDS0hISnhjakZSaFFFRHRBWFZNcXYxQll5ZFJkdGZiRm9uRkloRTIzeDBOeUllTzFGVE9wRE8KYnlHVjk5OWE3UlhGWFpGRG9mK3c3SVBuSXBBMTVObUNqampxNE53YTNvWGgyTVVTT0hJdkdBZzk3M2ZxMUQrSgpFYkZVSVNvU2kxNWFvaFVoU01sTWxYbFp1SUwraTJRYkgzeDdseXlibDJrV1JMNExtZTlCa1pjZDZGd3ZpRkVDCjdaaGUzWk1OWEhiay9zdHkrd3E2bHRhYXpBQ3R1UXErWHE0QWdaTUhGeHptMktjZjR6MXpYSGdsTGs2ZW54eTYKdWtSV2wvUjZHUkt3VmlPckhDU1JiVkpOK21mQmhYVG9QSmVMaHN6cmtHNmtFdTZCRGFZV1F1UVNlcVZyZHlERQpMd0NnOGJxdk9KZ1pjbGYvbDhiSnJzUlpoREFrYndJREFRQUJBb0lDQUJsWTY0TXB4ZStCMWI3YytPaWlsVElzCnpHNkVQNXNSdEhaOFlMODl3cXJyRFErbHoySTljSW95SC9qSFJnU1QzZlliZjVXWXN2UGI3WW9qR2wyc25lTGcKOFp0RmVoRFd2MG5mTFU1Wk9oQzJrTXM1cEZxQzBzNlN0RVZQNTFZNlpHTlN5elZjKzh6RERveDlxaHlMV09WbwpkRkVTYkxwQUZCS0RHaDZCcGVkTlZ6VFI2QW95ejRkb3k2T20vcGdVbW5lQmdMbDdkOEgzdWhQczNyMkh4UUl5CmdHYUh5UzhoSy9vMlphQjRZTVFldGNvRU5mOVdFOWl6ZUpjRXhzT0ZubS9SaHhNZnFUbWlVTkIxK01MT0VPeHoKUDRWNE84ancyM2QzSHVpSWJjK1pWOHlrdTZTSExUQmVoS1F6cDIwVTliVVlaOUYxSFg3V0ZvTHphaDIvRkFXSQpjYUhsU0JGd1dwY1hyU2hqTzFsUzJBUU9xNHlXRGdOVkIzNUwzSHJFeXhBQ0tOcXFDYmdxQjNBODc3WmllYVcvClRRUjdTUk5pRHpSRzg0aVlpeUNEMFIyQ2pQeGU4Q0pFeXlwVjU3MVRBR3RyZkJMMEQvRHdiMTJGd2VXdDBjTCsKYXhHaXFmYUdXV0c3L2tNQVR3UmUyNlZSNWZpQU1FM0Y4dkFpbXRFei9oaHptc2dDSUFtR2p0U3hlVks3ZEp6SAppNmlvUDFMalh6WFViV0ZaWnI5VG5CdWZIMk9PUFo4eGFURVpIR1ZaQkZRQUtwaEVVYkJIZkQvektDdjdlT21LCiszblh5NyttY1lCRTRRSDc1MWhMRUpZQkRaSjVNSytwYVEwVXRxWFpHQmpVeDYwNEdDYVZwMVZGRUJVZjYxODIKU2M3QmRPblV0aEwvWWxZbGtTczlBb0lCQVFEZzY2SE9UQ0kwelh1WnZmYVlNODNVNklMSE42MDVtRGNjeEc2ZgpPaWQxc1FJYm13eWVGUXVSMHVaWnF0VkpIUGYzb2hEWFZTazgrb2hqSWJTcjJmWHZucE9KSzB5ZUxIR1RkT1lwClN6bHREdUtkNGNLQmR2L2FBVDBrc0dlazBudzA4U1Y2VjFnbVlOU08vK3c3NzNFWVM1SmErMUt4QXlsZllOSjcKZ0s2Skk0Z2Z1YXVDY0E1Q0xxRmo3K2JSemZxb2tWeS9TeVYxMiszQUFDSVFXdlJ5MjBxbENkY3VFWlR4ckNOUgpoaWxvZWJ4R3NHaVFJbzJadEowN2FObTM3Nkh2bm41eE9YdWhENnNWdnpaRFdHd2ZoZm1takR4cXFuanhvQkRGCkthT3VOOTQzUThQNWhrTEl1UEtuaGZxMjBUMU8wWnZjWUNBekM1NE03bnk3TWJMMUFvSUJBUUREbmRvMEt2cDgKbjlxdDdWUGxNenNUTWs1TUQ5c0Q2cWhiS2ZESTBqLzBYNEhwN0UyRDJnMG9pS21vNWpYV20wbVN5T2NydEVxNgpWNlBUSEx5SWNEZ3NMQUFMdWs4SG4xUEZvY0NBTHV6ZFRKYlFBVFJ1Tkh4cVNMdXhlb0pkTHRmenFLZG8wL1p4CmtGZGJzV2ZvMHZFaC90TXR3SVJQcGJ1R2VtUDZpQVR3U2lTeHdaZ0pndjF2bWhQZmNoWjZRcFZ5U3VON1BhSlMKdGhKalAxeW1nazVUNFYyR0dXeGIxSzRFVXFZbG00M2N3Z1VGS0dMRU84OU9DeTErMnFtOURBandTSkJjeGtrQwpGdnlOd2V4bVR3cFRmVE1QMW50cCtQbUN3SzhLY3VwaVc5T1Btd0p0OW1zMHQ4N2V3UlZ4MFQ4ZlEySkkrQmNUCnI4YWtiM2VJS1VOVEFvSUJBQ3RnWmdraUY2cTFRalFKTmFodXZUQmxVdXRXcW5xa0IyVHQ0U09tRkh3WEVmLysKNi9VRXZBRjRlZUlyRncwTm9Dakt3Wksxb3NsV3k3ektnRXh3TVlUdndTWkFDbnVxdUpDbWg4akk4QjgvTXFjZQpKZVBQN2xHOTBXdms5V2dOQzlVdCtIdGFvdTVyMkRKbjJzaElTamhVUXJwM0k2QnRxcW54UTBaOEw2elZCR2lSCjV5aTFzWnBENGU0akV4RzlOcTBSczZCVXZybTNHMmZlM3JMbXg2UHE5TDlWWVlGSjlMNlM0eERTM2VOL0xyYzMKU0VNYjF0RWd5djN0SDZmZ2VBdDlOb2RoZlowM0oxaC9VdGkwRWM0V2lXbjhPNTZhbDg2SmZ4SjNFRkVHQno0RApQS1UvcGx1Tmg0YVZTUisreEtNUnU0eEpvWXdXbm5tQitONGxISTBDZ2dFQUpsdW10UUlVZWltU1pQYWJzOTcyCjM0M0d3cTE5UWVoYXVQMmhaSSt0ME1xRm5Bd2xLd3l2OWRuT2d2c1paWXF2dzZPM2lOOWlvK1daajBVY1J4alMKT3Y4cHh5THlha2s0MFJFbHdUenlYM2FzUC85c2U0dTVOZElyVStMMCt6YTdTK0V2YXFQZHVHa1lhRGVDYTZvcApkSVFXZnVzNFJySDE4cW0vUHhvNjlhOWtRS0w0b0N6YWEyN29KTEduYkxQdndDaWxNTDVtUFJmTXhUOWdlSm9tCnA5WVNVOEJhZWl0Yk1DZlF3cUVkRVVQT1hqT01JblNqOHViSU5nN0VwL2hiTEZyZVRBTHB3QW9uM2RnLzlkUGIKNzRFbWFSMml0NllGcnpqL1dlb3N3YnJGNG12Lzd2WWFFWTFWZUdLZVJPSkdJV2hDTnBMSFc2bmxKc3Rnd2dkdApWd0tDQVFFQXlWcWwvNzF3QUhkeGtqMzJrL05QaTBwMnVRUHI3elNtOTQvL0hQaTRES2JqRGJ5aHNvSHJOVFVkCnlWV1hkTnBPRXROQjVuNENoampTYktZSWIvem8rSzVyM3hWSTdaemQySEhna1d6eDg1ZmhyOURMNmwyNFg1bFUKZWRpdS9MKzdoQ2FDZzZ2Q1BULy9hdCtVa29HN3dXYTB3azd5YzV3VXVJNGpaZHBPYWtkNkp3a2FzWWNCb2F1cwpIa0M3QVB1SlBjMHZjMGVUTVh4NVB0Ry9GZnE2UlZCSCtSZnBKeWVTMnBFK2RJYll4SFFzNG9Dc291bGtPeG10CnhFbCtrcmlBeUM3cjdaODFYYWsrbDZFVlFvOG83R3p2NEtmdmZPODRQU0I2OWhsWUlyM1QycFVlWkNsenpBR2gKV2d6NDV2NStWNHpOTXJ3a3lxaUFjU3Zxb3o5Y0V3PT0KLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLQo=

---

apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
 name: letsencrypt-staging
 namespace: production
spec:
  acme:
    # The ACME server URL
    server: https://acme-staging-v02.api.letsencrypt.org/directory
    # Email address used for ACME registration
    email: cervecera_ritual@ritual.com
    # Name of a secret used to store the ACME account private key
    privateKeySecretRef:
      name: key-pair
    # Enable the HTTP-01 challenge provider
    solvers:
    - http01:
        ingress:
          class: nginx

#openssl req -x509 -days 7300 -out ritual.crt -keyout ritual.key -newkey rsa:4096 -nodes -sha256 -subj '/CN=ritual.com' -extensions EXT -config <( printf "[dn]\nCN=ritual.com\n[req]\ndistinguished_name = dn\n[EXT]\nsubjectAltName=DNS:ritual.com\nkeyUsage=digitalSignature\nextendedKeyUsage=serverAuth")